Figure out an approach to fuzz Marshal/Unmarshal.

Export fragment mapper funcs for people doing custom encoding stuff.

Use a generic Nested[T] in test helpers to reduce boilerplate.

Make NameAcquired/NameLost matches skip AddMatch/RemoveMatch? The bus
unicasts those notifications to the client regardless of matches, we
only need to filter it in local signal dispatching.

Make errors in readLoop actually fatal and shut down the conn.

Make various contexts generated by conn tied to Close.

Close conn on write errors, conn is desync'd and broken at that point.

DBus interfaces to implement (common to Gnome and KDE)
======================================================

ca.desrt.dconf.Writer
org.a11y.Bus
org.a11y.Status
org.bluez.obex.AgentManager1
org.bluez.obex.Client1
org.freedesktop.Application
org.freedesktop.DBus.Debug.Stats
org.freedesktop.DBus.Monitoring
org.freedesktop.impl.portal.Access
org.freedesktop.impl.portal.Account
org.freedesktop.impl.portal.AppChooser
org.freedesktop.impl.portal.Background
org.freedesktop.impl.portal.DynamicLauncher
org.freedesktop.impl.portal.Email
org.freedesktop.impl.portal.FileChooser
org.freedesktop.impl.portal.Inhibit
org.freedesktop.impl.portal.InputCapture
org.freedesktop.impl.portal.Notification
org.freedesktop.impl.portal.PermissionStore
org.freedesktop.impl.portal.Print
org.freedesktop.impl.portal.RemoteDesktop
org.freedesktop.impl.portal.ScreenCast
org.freedesktop.impl.portal.Screenshot
org.freedesktop.impl.portal.Secret
org.freedesktop.impl.portal.Settings
org.freedesktop.LogControl1
org.freedesktop.Notifications
org.freedesktop.portal.Account
org.freedesktop.portal.Background
org.freedesktop.portal.Camera
org.freedesktop.portal.Device
org.freedesktop.portal.Documents
org.freedesktop.portal.DynamicLauncher
org.freedesktop.portal.Email
org.freedesktop.portal.FileChooser
org.freedesktop.portal.FileTransfer
org.freedesktop.portal.GameMode
org.freedesktop.portal.Inhibit
org.freedesktop.portal.InputCapture
org.freedesktop.portal.Location
org.freedesktop.portal.MemoryMonitor
org.freedesktop.portal.NetworkMonitor
org.freedesktop.portal.Notification
org.freedesktop.portal.OpenURI
org.freedesktop.portal.PowerProfileMonitor
org.freedesktop.portal.Print
org.freedesktop.portal.ProxyResolver
org.freedesktop.portal.Realtime
org.freedesktop.portal.RemoteDesktop
org.freedesktop.portal.ScreenCast
org.freedesktop.portal.Screenshot
org.freedesktop.portal.Secret
org.freedesktop.portal.Settings
org.freedesktop.portal.Trash
org.freedesktop.ReserveDevice1
org.freedesktop.Secret.Collection
org.freedesktop.Secret.Service
org.freedesktop.systemd1.Device
org.freedesktop.systemd1.Manager
org.freedesktop.systemd1.Mount
org.freedesktop.systemd1.Scope
org.freedesktop.systemd1.Service
org.freedesktop.systemd1.Slice
org.freedesktop.systemd1.Socket
org.freedesktop.systemd1.Swap
org.freedesktop.systemd1.Target
org.freedesktop.systemd1.Timer
org.freedesktop.systemd1.Unit
org.gtk.Actions
org.gtk.Application
org.gtk.Settings

DBus interfaces to implement (Gnome)
====================================

org.freedesktop.IBus.Portal
org.freedesktop.impl.portal.Clipboard
org.freedesktop.impl.portal.Lockdown
org.freedesktop.impl.portal.Wallpaper
org.freedesktop.PackageKit.Modify
org.freedesktop.PackageKit.Modify2
org.freedesktop.PackageKit.Query
org.freedesktop.portal.Clipboard
org.freedesktop.portal.Wallpaper
org.freedesktop.Secret.Item
org.freedesktop.Tracker3.Endpoint
org.freedesktop.Tracker3.Files
org.freedesktop.Tracker3.Miner
org.gnome.Epiphany.WebAppProvider
org.gnome.evolution.dataserver.AddressBook
org.gnome.evolution.dataserver.AddressBookFactory
org.gnome.evolution.dataserver.AddressBookView
org.gnome.evolution.dataserver.Calendar
org.gnome.evolution.dataserver.CalendarFactory
org.gnome.evolution.dataserver.CalendarView
org.gnome.evolution.dataserver.DirectBook
org.gnome.evolution.dataserver.Source
org.gnome.evolution.dataserver.SourceManager
org.gnome.evolution.dataserver.Source.Writable
org.gnome.Identity.Manager
org.gnome.keyring.Daemon
org.gnome.keyring.internal.Prompter
org.gnome.keyring.InternalUnsupportedGuiltRiddenInterface
org.gnome.Mutter.DisplayConfig
org.gnome.Mutter.IdleMonitor
org.gnome.Mutter.InputCapture
org.gnome.Mutter.InputMapping
org.gnome.Mutter.RemoteDesktop
org.gnome.Mutter.ScreenCast
org.gnome.Mutter.ServiceChannel
org.gnome.Mutter.X11
org.gnome.OnlineAccounts.Manager
org.gnome.ScreenSaver
org.gnome.SessionManager
org.gnome.SessionManager.App
org.gnome.SessionManager.Client
org.gnome.SessionManager.ClientPrivate
org.gnome.SessionManager.EndSessionDialog
org.gnome.SessionManager.Presence
org.gnome.SettingsDaemon.Color
org.gnome.SettingsDaemon.Housekeeping
org.gnome.SettingsDaemon.Power.Keyboard
org.gnome.SettingsDaemon.Power.Screen
org.gnome.SettingsDaemon.Rfkill
org.gnome.SettingsDaemon.Sharing
org.gnome.SettingsDaemon.Smartcard.Manager
org.gnome.SettingsDaemon.UsbProtection
org.gnome.SettingsDaemon.Wacom
org.gnome.Shell
org.gnome.Shell.AudioDeviceSelection
org.gnome.Shell.CalendarServer
org.gnome.Shell.Extensions
org.gnome.Shell.Introspect
org.gnome.Shell.Screenshot
org.gnome.Shell.SearchProvider2
org.gnome.Shell.Wacom.PadOsd
org.gnome.Sysprof3.Profiler
org.Gtk.MountOperationHandler
org.gtk.Notifications
org.gtk.Private.RemoteVolumeMonitor
org.gtk.vfs.Daemon
org.gtk.vfs.Monitor
org.gtk.vfs.Mount
org.gtk.vfs.Mountable
org.gtk.vfs.MountTracker

DBus interfaces to implement (Gnome)
====================================

org.bluez.obex.Agent1
org.freedesktop.Flatpak.Development
org.freedesktop.Flatpak.SessionHelper
org.freedesktop.impl.portal.GlobalShortcuts
org.freedesktop.portal.Flatpak
org.freedesktop.portal.GlobalShortcuts
org.freedesktop.systemd1.Path
org.kde.ActivityManager.Activities
org.kde.ActivityManager.Application
org.kde.ActivityManager.Features
org.kde.ActivityManager.Resources
org.kde.ActivityManager.ResourcesLinking
org.kde.ActivityManager.ResourcesScoring
org.kde.ActivityManager.Templates
org.kde.baloo.fileindexer
org.kde.baloo.main
org.kde.baloo.scheduler
org.kde.BlueDevil
org.kde.BlueDevil.ObexFtp
org.kde.DesktopNotifier
org.kde.GtkConfig
org.kde.inotify
org.kde.JobViewServer
org.kde.JobViewServerV2
org.kde.kameleon
org.kde.kappmenu
org.kde.KDBusService
org.kde.kdeconnect.daemon
org.kde.kded6
org.kde.kded6.StatusNotifierWatcher
org.kde.kded.smart.Device
org.kde.kdnssd
org.kde.KeyboardLayouts
org.kde.KGlobalAccel
org.kde.kglobalaccel.Component
org.kde.klipper.klipper
org.kde.KMainWindow
org.kde.konsole.KActionCollection
org.kde.konsole.KMainWindow
org.kde.konsole.Konsole.MainWindow
org.kde.konsole.KXmlGuiWindow
org.kde.konsole.Session
org.kde.konsole.Window
org.kde.krunner1
org.kde.KSMServerInterface
org.kde.KTimeZoned
org.kde.kuiserver
org.kde.KWallet
org.kde.KWin
org.kde.KWin.BlendChanges
org.kde.kwin.ColorPicker
org.kde.kwin.Compositing
org.kde.KWin.Effect.OutputLocator1
org.kde.kwin.Effects
org.kde.KWin.Effect.SystemBell1
org.kde.KWin.Effect.WindowView1
org.kde.KWin.EIS.InputCaptureManager
org.kde.KWin.EIS.RemoteDesktop
org.kde.kwin.FTrace
org.kde.KWin.HighlightWindow
org.kde.KWin.InputDevice
org.kde.KWin.InputDeviceManager
org.kde.KWin.NightLight
org.kde.KWin.Plugins
org.kde.KWin.ScreenShot2
org.kde.kwin.Scripting
org.kde.KWin.Session
org.kde.KWin.TabletModeManager
org.kde.KWin.VirtualDesktopManager
org.kde.kwin.VirtualKeyboard
org.kde.libkonq.FileUndoManager
org.kde.NotificationManager
org.kde.osdService
org.kde.plasmanetworkmanagement
org.kde.PlasmaShell
org.kde.plasmashell.accentColor
org.kde.PlasmaShell.StrutManager
org.kde.plasmavault
org.kde.Polkit1AuthAgent
org.kde.ScreenBrightness
org.kde.ScreenBrightness.Display
org.kde.screensaver
org.kde.Solid.PowerManagement
org.kde.Solid.PowerManagement.Actions.BrightnessControl
org.kde.Solid.PowerManagement.Actions.HandleButtonEvents
org.kde.Solid.PowerManagement.Actions.PowerProfile
org.kde.Solid.PowerManagement.Actions.SuspendSession
org.kde.Solid.PowerManagement.PolicyAgent
org.kde.StatusNotifierWatcher
org.mozilla.firefox
org.qtproject.Qt.QAction
org.qtproject.Qt.QApplication
org.qtproject.Qt.QCoreApplication
org.qtproject.Qt.QGuiApplication
org.qtproject.Qt.QMainWindow
org.qtproject.Qt.QWidget

DBus interfaces implemented
===========================

org.freedesktop.ScreenSaver
org.freedesktop.background.Monitor
org.freedesktop.PowerManagement
org.freedesktop.PowerManagement.Inhibit
org.freedesktop.DBus
org.freedesktop.DBus.Introspectable
org.freedesktop.DBus.ObjectManager
org.freedesktop.DBus.Peer
org.freedesktop.DBus.Properties
